(this["webpackJsonprandom-chat-web"]=this["webpackJsonprandom-chat-web"]||[]).push([[0],{307:function(e,t,n){e.exports=n.p+"static/media/sad.1fffcdd8.png"},308:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH0AAAB/CAIAAABNKlp5AAAAA3NCSVQICAjb4U/gAAAEC0lEQVR4nO3dTUgUYRzH8Vl39qVNM/EFXUtEe4EKexEiiC5iXrsUngMj6BJEl6AuJZ081DGKLhFSVoQEvRkU0iVSUcJEWe1FN1K3bXdraV+a7RBExVTzD2d/4zO/z3memT9fdBwH99HTdrhfo6IrQQ/gUuyOwe4Y7I7B7hjsjsHuGOyOwe4Y7I7B7hjsjsHuGLp0QcDn7exobllf2Rguq1jlt2OmZSGezL6KpsamYtceRDK5r9LlHtF74A0N5acOtYarQ9LLKCy6kD5zcWjyTUK0SnCf8eklJ7sY/Xfh6tDJrlafLrtjC44+0N5UX8PoJuprQgfam0RLBN23bqgSzuMi0jiC7o3hMuEwLiKNI+hetTogHMZFpHH4/I7B7hjsjsHuGOyOwe4Y7I4hfh+5fBUKWmQ2OT2bjCUz8cSXD8lMLm8EA/qKgDcY0IN+b8DvDfq9utdTKGhGoZBIZaOL6RMHt9kxjPrdsznj8fPos/H54ZeLiU9Z6XJ2F8tkjTuDr68/jCx+/IKe5XfKdh+eWDx7eSSezKAHMadm9977kcu3XxoF9Bx/pmD3niujd5++RU/xD6o9R954NOP86Jpi3UcmYhdujqOnsESd7oahnesdM5x8U/+JOt0HR97Nvv+MnsIqdbpfvTuFHkFAke4zc6nIbBI9hYAi3V9EPqBHkFGmexw9gowivzdNzIi7l4Z8m5oq6ipDul6SyxtFfhBSpHsqnbN+cDDgPbJ/895da/w+2Le7It1zecPikSUerfvIzu0bK22d599jYC+/VKx337OjDh5dc2H33VtrbZ3EIkW6W9dQ64i/8nRd97W1K9EjaJoLuwf9XvQImubC7g7B7hjsjsHuGOyOwe4Y7I7B7hiOfh/5KZ0HnrM0ZGMcR3ffd+we6pzlpf5bPR1LfvUfeJ8xZ/c2DOxurr7a3tdn7G4uXMPuCPx6xwizO4TdO+2wu4mVQb281N6t09jdhN0/VDV2N1WEPdTY3YTdDzMau5uq530Gwu6HSI3dTRWhu6PfR54/vtvikUd7ni7hOYuwg52ju29ZV7EszvkfeJ/BYHcMdsdgdwx2x2B3DHbHYHcMdsdgdwx2x2B3DHbHYHcMdsdgdwx2x2B3DHbHYHcMdsdgdwx2x2B3DHbHYHcMdsdgdwx2xxB0X4g77r9+OYc0jqD763cp4TAuIo0j6D46GRMO4yLSOILufQPTc/Np4TyuMDef7huYFi0RdM/lje5LQ9EFpv9FdCHdfWnI+obc38k+ZzP5JtF1+klnR3PL+srGcFnFKns/TO5k8WT2VTQ1NhW79iCSyX2VLve0He63Yyz6Oz6/Y7A7BrtjsDsGu2OwOwa7Y7A7BrtjsDsGu2OwOwa7Y7A7BrtjsDvGNy/j+bDTA17AAAAAAElFTkSuQmCC"},309:function(e,t,n){e.exports=n.p+"static/media/snail.886a9aa7.png"},329:function(e,t,n){e.exports=n(609)},5:function(e,t,n){"use strict";(function(e){n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return s}));var a=/Android|webOS|iPhone|iPad|iPod|IEMobile|BlackBerry|Opera Mini/i.test(window.navigator.userAgent),r={CONNECTED:"connection:status:connected",DISCONNECTED:"connection:status:disconnected"},o={isMobile:a,iOS:e.browser&&/iPad|iPhone|iPod/.test(navigator.userAgent),isAndroid:e.browser&&/(android)/i.test(navigator.userAgent)},i={NEW_CHAT:"c1",CHAT_MESSAGE:"c2",ONLINE_USER:"c3",TYPING:"c4",CLOSE_CHAT:"c5",LIKE_CONVERSATION:"c6",BLOCK:"c7",REPORT:"c8",INIT:"c9",FORCE_CLOSE:"c10",LOAD_CONVERSATIONS:"c11",SERVER_INFO:"c12",FCM_TOKEN_ASSIGN:"c13",FCM_TOKEN_UNASSIGN:"c14",ACK:"c15",QUEUE_ORDER:"c17",CHAT_INFO:"c18"},c={INITIALIZING:"initializing",EMPTY:"empty",FINDING:"finding",CHATTING:"chatting",CLOSED:"closed",STRANGER_CLOSED:"stranger_closed"},l={SENDING:"sending",SENT:"sent",DELIVERED:"delivered"},s={SYSTEM:"system",STRANGER:"stranger",ME:"me"}}).call(this,n(152))},541:function(e,t,n){},542:function(e,t,n){},543:function(e,t,n){},572:function(e,t){},592:function(e,t,n){},596:function(e,t,n){},597:function(e,t,n){},599:function(e,t,n){},600:function(e,t,n){},601:function(e,t,n){},602:function(e,t,n){},607:function(e,t,n){},608:function(e,t,n){},609:function(e,t,n){"use strict";n.r(t);n(330),n(340);var a=n(0),r=n.n(a),o=n(17),i=n.n(o),c=n(9);n(540),n(541),n(542),n(543),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(41),s=n(42),u=n(46),d=n(43),m=n(45),g=n(670),f=n(78),h=n(658),p=n(659),b=n(130),E=n(297),v=n.n(E),O=n(644),y=n(26),C=n(660),k=n(673),S=n(611),j=n(656),w=n(657),T=n(655),N=n(294),I=n.n(N),A=n(159),x=n.n(A),D=n(293),R=n.n(D),_=n(100),B=n.n(_),L=n(652),M=n(648),P=n(651),H=n(649),G=n(650),F=n(127),U=n(5),z=Object(F.a)((function(e){return e.messages}),(function(e){return e.filter((function(e){return e.from===U.c.STRANGER}))})),V=Object(F.a)(z,(function(e){return e.length>0})),Y=function(e){return e.connection.status===U.f.CONNECTED},q=function(e){return e.chat.lastTimeTyping},K=Object(F.a)((function(e){return e.chat.status}),(function(e){return e===U.b.CHATTING})),W=n(157),J=n.n(W),X=n(289),Q=n.n(X),Z=n(290),$=".",ee="https://gth-talk-stranger.herokuapp.com",te="1509791212589625",ne="master",ae=new(n.n(Z).a);function re(e){return e<10?"0".concat(e):e}ae.tlds(["app","site"],!0);var oe,ie={escapeHtml:function(e){var t=window.document.createElement("div");return t.appendChild(window.document.createTextNode(e)),t.innerHTML},inSameDay:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},getTimeFormat:function(e){var t=re(e.getHours()),n=re(e.getMinutes());return"".concat(t,":").concat(n)},getDateFormat:function(e){var t=re(e.getDate()),n=re(e.getMonth()+1),a=e.getFullYear();return"".concat(t,"/").concat(n,"/").concat(a)},n2br:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=0;return e.replace(/(?:\r\n|\r|\n)+/g,(function(e){return(n+=1)>t?e:"<br />"}))},upperFirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},linkify:function(e){if(!ae.test(e))return e;var t=ae.match(e),n=[],a=0;return t.forEach((function(t){t.index>a&&n.push(e.substring(a,t.index)),n.push('<a href="'.concat(t.url,'" rel="noopener noreferrer" target="_blank">').concat(t.text,"</a>")),a=t.lastIndex})),a<e.length&&n.push(e.substring(a)),n.join("")},objectToParams:function(e){var t="";return Object.keys(e).forEach((function(n){""!==t&&(t+="&"),t+="".concat(n,"=").concat(encodeURIComponent(e[n]))})),t},findIndex:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,a=e.length,r=0;r<a;){if(t(e[r],r))return r;r++}return n},promiseDefer:function(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}};function ce(e,t,n){oe.emit("message",{type:e,data:t},n)}var le,se={connect:function(e,t){var n="token=".concat(t,"&client=").concat("web-".concat(ne));return oe?(oe.disconnect(),oe.io.opts.query=n,oe.connect(),oe):oe=Q()(e,{forceNew:!1,query:n})},send:ce,ack:function(e,t){ce(U.a.ACK,{type:e,active:document.hasFocus(),payload:t})}},ue=/[[\]\>\<{}()*+?.\\|^$\-,&#\s]/g,de={1:["happy",":-) :) (-: (:"],2:["sad",":-( :("],3:["winking",";-) ;)"],4:["big grin",":-D :D :d"],5:["batting eyelashes",";;) ;;-)"],6:["big hug",">:D< &gt;:D&lt;"],7:["confused",":-/ :-\\"],8:["love struck",":-X :-x :X :x"],9:["blushing",':"> :"&gt;'],10:["tongue",":-P :P :-p :p"],11:["kiss","=* :-* :*"],12:["broken heart","=(("],13:["surprised / o, no  ",":-O :O"],14:["angry","X-( x-( X( x("],15:["smug",":-> :-&gt; :&gt;"],16:["cool","B-)"],17:["worried",":-s :-S"],18:["whew!","#:-S #:-s"],19:["devil",">:) &gt;:)"],20:["crying",":-(( :(("],21:["laughing",":-)) :))"],22:["straight face",":-| :|"],23:["raised eyebrows","/:-) /:)"],24:["rolling on the floor","=))"],25:["angel","o:-) O:-)"],26:["nerd",":-B :B"],27:["talk to my hand","=;"],28:["sleepy","I-) |-) I-|"],29:["rolling eyes","8-|"],30:["loser","L-)"],31:["sick",":-& :-&amp;"],32:["shhh",":-$"],33:["no talking","[-("],34:["clown",":O) :o) :0) &lt;@:)"],35:["crazy","8-}"],36:["party","<:-P &lt;:-P &lt;:-p"],37:["yawn","(:|"],38:["drooling","=p~ =P~"],39:["thinking",":-?"],40:["doh!","#-o"],41:["applause","=D> =D&gt;"],42:["nail biting",":-SS :-ss"],43:["hypnotized","@-)"],44:["liar",":^o :^O"],45:["waiting",":-w"],46:["sigh",":-< :-&lt;"],47:["phbbbbt",">:P &gt;:P &gt;:p"],48:["cowboy","<):) &lt;):)"],49:["pig",":@)"],50:["cow","3:-O 3:-o 3:O"],51:["monkey",":(|)"],52:["chicken","~:> ~:&gt;"],53:["rose","@};-"],54:["good luck","%%-"],56:["pumpkin","(~~)"],57:["coffee","~o) ~O)"],58:["idea","*-:)"],59:["skull","8-X"],60:["bug","=:-) =:)"],61:["alien",">-) &gt;-)"],62:["frustrated",":-L"],63:["praying","[-o< [-o&lt; [-O&lt;"],64:["money eyes","$-)"],65:["whistling",':-"'],66:["feeling beat up","b-("],67:["peace sign",":)>- :)&gt;-"],68:["No no no","[-X"],69:["dancing","\\:D/"],70:["bring it on",">:/ &gt;:/"],71:["hee hee",";))"],76:["chatterbox",":-@"],77:["not worthy","^:)^"],78:["oh go on",":-j"],100:["on the phone",":)]"],101:["call me",":-c"],102:["at wits' end","~X("],103:["wave",":-h"],104:["time out",":-t"],105:["day dreaming","8-> 8-&gt;"],106:["I don't know",":-??"],107:["not listening","%-("],109:["I don't want to see","X_X"],110:["hurry up!",":!!"],111:["rock on!","\\m/"],112:["thumbs down",":-q"],113:["thumbs up",":-bd"],114:["it wasn't me","^#(^"],pirate_2:["pirate",":ar!"],catch:["catch","o|:-)"],cheer:["cheer","~^o^~"],cold:["cold","'+_+"],cook:["cook","[]---"],dizzy:["dizzy","'@^@|||"],down_on_luck:["down on luck","%*-{"],eat:["eat","^O^||3"],exercise:["exercise","[]==[]"],fight:["fight",":(fight)"],gift:["gift","&[] &amp;[]"],give_up:["give up",":-(||> :-(||&gt;"],high_five:["high five",":-)/\\:-)"],hot:["hot",":::^^:::"],music:["music","o|^_^|o"],play_game:["gaming",":(game)"],puke:["puke",":puke!"],search_me:["search me","'@-@"],sing:["sing","o|\\~"],spooky:["spooky",":->~~ :-&gt;~~"],studying:["studying","?@_@?"],tv:["tv",":(tv)"],unlucky:["unlucky","%||:-{"],roll:["roll",":roll"],really:["really?",":really"],oops:["Oops!",":oops"]},me={};Object.keys(de).forEach((function(e){var t=de[e][1].split(" ");for(le=0;le<t.length;le++)me[t[le]]=e}));var ge=[];Object.keys(me).forEach((function(e){ge.push("(".concat(e.replace(ue,"\\$&"),")"))})),ge.sort((function(e,t){return t.length-e.length}));var fe=new RegExp(ge.join("|"),"g");var he="MESSAGE_MARK_STATUS",pe="ADD_MESSAGES",be="CLEAR",Ee=null;function ve(e){(e=Array.isArray(e)?e:[e]).length&&e[e.length-1].id&&(Ee=e[e.length-1].id);var t=e.map((function(e){var t=e.from,n=e.id,a=e.text,r=e.createdAt;return n=n||J()(),r=r?new Date(r):new Date,t!==U.c.SYSTEM&&(a=ie.escapeHtml(a),a=ie.n2br(a),a=ie.linkify(a),a=a.replace(fe,(function(e){return"undefined"!==typeof me[e]?"<img src='images/smileys/yahoo/".concat(me[e],".gif' alt='").concat(e,"' title='").concat(de[me[e]][0],"' style='vertical-align: middle;' />"):e}))),Object.assign({},e,{id:n,text:a,createdAt:r})}));return{type:pe,messages:t}}var Oe=n(199);var ye={storageAvailable:function(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(a){return!1}}},Ce=window.localStorage;var ke={name:"localStorage",isAvailable:ye.storageAvailable("localStorage"),get:function(e){return Ce.getItem(e)},set:function(e,t){Ce.setItem(e,t)}},Se=window.sessionStorage;var je={name:"sessionStorage",isAvailable:ye.storageAvailable("sessionStorage"),get:function(e){return Se.getItem(e)},set:function(e,t){Se.setItem(e,t)}},we=n(163),Te=n.n(we);function Ne(e){return Te.a.get(e)}function Ie(e,t){Te.a.set(e,t,{expires:365})}var Ae={name:"cookieStorage",isAvailable:function(){try{var e="__storage_test__";Ie(e,e);var t=Ne(e)===e;return Te.a.remove(e),t}catch(n){return!1}}(),get:Ne,set:Ie},xe={};var De,Re={log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){}};var _e=De||([ke,je,Ae,{name:"memoryStorage",isAvailable:!0,get:function(e){return xe[e]},set:function(e,t){xe[e]=t}}].some((function(e){return!!e.isAvailable&&(Re.log(e.name,"is available"),De=e,!0)})),De),Be="settings";function Le(){var e=_e.get(Be);try{e=e?JSON.parse(Oe.Base64.decode(e)):{}}catch(t){Re.log("Cannot parse settings",t),e={}}return e||{}}function Me(e,t){var n=Le();return Object.prototype.hasOwnProperty.call(n,e)?n[e]:t}function Pe(e,t){var n=Le();n[e]=t,function(e){_e.set(Be,Oe.Base64.encodeURI(JSON.stringify(e)))}(n)}var He={};function Ge(e){He["set".concat(e)](1)}function Fe(e){He["set".concat(e)](0)}function Ue(e){return 1===parseInt(He["get".concat(e)](),10)}function ze(e){return 0===parseInt(He["get".concat(e)](),10)}function Ve(e,t){t?Ge(e):Fe(e)}function Ye(e){Ue(e)?Fe(e):Ge(e)}function qe(e){return He["get".concat(e)]()}function Ke(e,t){return He["set".concat(e)](t)}function We(e){return parseInt(He["get".concat(e)](),10)}function Je(e,t){He["set".concat(e)](parseInt(t,10))}function Xe(e,t){Je(e,We(e)+t)}[{key:"s1",name:"strangerName",defaultValue:"ng\u01b0\u1eddi l\u1ea1"},{key:"s2",name:"askExit",defaultValue:1},{key:"s3",name:"enableSound",defaultValue:1},{key:"s4",name:"enableIcon",defaultValue:1},{key:"s5",name:"perScreen",defaultValue:0},{key:"i1",name:"gender",defaultValue:0},{key:"i2",name:"job",defaultValue:0},{key:"i3",name:"target",defaultValue:0},{key:"i4",name:"numberOfReport",defaultValue:0},{key:"i5",name:"numberOfConversations",defaultValue:0},{key:"i6",name:"numberOfLikes",defaultValue:0}].forEach((function(e){He["get".concat(e.name)]=Me.bind(null,e.key,e.defaultValue),He["set".concat(e.name)]=Pe.bind(null,e.key)}));var Qe=function(e){return{isTrue:Ue.bind(null,e),isFalse:ze.bind(null,e),toTrue:Ge.bind(null,e),toFalse:Fe.bind(null,e),setBoolean:Ve.bind(null,e),toggle:Ye.bind(null,e),get:qe.bind(null,e),set:Ke.bind(null,e),getNumber:We.bind(null,e),setNumber:Je.bind(null,e),adjust:Xe.bind(null,e)}},Ze=window.ion,$e=["start_chat","end_chat","new_message"];Ze.sound({sounds:$e.map((function(e){return{name:e}})),path:"sounds/",preload:!0});var et={play:function(e){$e.indexOf(e)>-1&&Qe("enableSound").isTrue()&&Ze.sound.play(e)}},tt=window.Mobile;var nt={push:function(e){var t=e.msg,n=e.unread;tt&&tt.notification("",t,n)},clear:function(){tt&&tt.clearNotification()}},at={scrollToBottom:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{animation:!0};e&&(t.animation?rt(e,e.scrollHeight,1200):rt(e,e.scrollHeight,0))},setTitleNoti:function(e){window.document.title=e>0?"(".concat(e,") Chat v\u1edbi ng\u01b0\u1eddi l\u1ea1"):"Chat v\u1edbi ng\u01b0\u1eddi l\u1ea1"},overscroll:function(e){e.addEventListener("touchstart",(function(){var t=e.scrollTop,n=e.scrollHeight,a=t+e.offsetHeight;0===t?e.scrollTop=1:a===n&&(e.scrollTop=t-1)})),e.addEventListener("touchmove",(function(t){e.offsetHeight<e.scrollHeight&&(t._isScroller=!0)}))}};function rt(e,t,n){if(n>0){var a=e.scrollTop,r=t-a,o=0;!function t(){var i,c,l;o+=20,e.scrollTop=(i=o,c=a,l=r,(i/=n/2)<1?l/2*i*i+c:(i--,-l/2*(i*(i-2)-1)+c)),o<n&&requestAnimationFrame(t)}()}else e.scrollTop=t}var ot="NOTIFICATION_SET_UNREAD";function it(e){return function(t){at.setTitleNoti(e),t({type:ot,count:e})}}function ct(e){return function(t,n){var a=n(),r=a.appState,o=a.notification;if(r.background){var i=e.msg,c=e.sound;t((function(e,t){e(it(t().notification.unread+1))})),nt.push({msg:i,unread:o.unread}),et.play(c)}}}function lt(){return function(e){nt.clear(),e((function(e,t){0!==t().notification.unread&&e(it(0))}))}}var st=n(291),ut=new(n.n(st).a);function dt(){return window.location.origin+window.location.pathname}var mt={"Content-Type":"application/json"};function gt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ft(e,Object.assign({method:"POST",body:JSON.stringify(t),headers:Et(mt)},n))}function ft(e,t){var n=new URL("".concat(ee).concat(e));return t.qs&&Object.keys(t.qs).forEach((function(e){var a=t.qs[e];void 0!==a&&n.searchParams.append(e,a)})),fetch(n,t).then(ht).then(pt).then(bt)}function ht(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);return t.response=e,Promise.reject(t)}function pt(e){return e.ok?e.json():Promise.reject(e)}function bt(e){return"ok"!==e.status?Promise.reject(e):e}function Et(e){var t=yt();return t?Object.assign({authorization:"JWT "+t},e):e}var vt={getCode:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ft(e,Object.assign({headers:Et(mt)},t))}("/api/users/mycode")},updateProfile:function(e){return gt("/api/users/me",e)}},Ot={login:function(e,t){return gt("/api/auth/login",{type:e,credentials:t})},verifyToken:function(e){return!e||String(e).length<10?Promise.reject(new Error("token cannot be null")):gt("/api/auth/verifyToken",{token:e}).then((function(e){return e.data})).then((function(e){return-1===["male","female"].indexOf(e.gender)&&(e.gender="other"),-1===[0,1,2,3].indexOf(e.job)&&(e.job=0),e}))}};function yt(){return _e.get("token")}var Ct="USER_SET_META",kt="USER_SET_PROFILE",St="USER_LOGIN_SUCCESS",jt="USER_BLOCK";function wt(e){var t=e.blockTo,n=e.disabled;return{type:jt,blockTo:t,disabled:n}}var Tt=function(e){var t=e.numberOfConversations,n=e.numberOfLikes,a=e.numberOfReport;return{type:Ct,numberOfConversations:t,numberOfLikes:n,numberOfReport:a}},Nt=function(e){return function(t){return Qe("numberOfConversations").setNumber(e),t(Tt({numberOfConversations:e}))}},It=function(e){return function(t){return Qe("numberOfLikes").setNumber(e),t(Tt({numberOfLikes:e}))}},At=function(e){return function(t){return Qe("numberOfReport").setNumber(e),t(Tt({numberOfReport:e}))}},xt=function(e){var t=e.token,n=e.profile;return function(e){e({type:St,token:t,profile:n}),ut.emit("user:logged_in")}},Dt=function(){return function(){_e.set("token",""),window.location=dt()}},Rt=function(e){return function(t,n){var a=n().user;t({type:kt,profile:Object.assign({},a.profile,e)}),vt.updateProfile(e)}};function _t(e){return function(t,n){var a=n().user,r=function(e){if(!e)return 0;var t=Date.now()-e.getTime(),n=new Date(t);return Math.abs(n.getUTCFullYear()-1970)}(e);return t({type:kt,profile:Object.assign({},a.profile,{age:r})}),vt.updateProfile({birthday:e})}}var Bt="CHAT_INIT",Lt="CHAT_START",Mt="CHAT_STOP",Pt="CHAT_FIND",Ht="CHAT_LIKE",Gt="CHAT_BE_LIKED",Ft="STRANGER_TYPING",Ut="SET_QUEUE_ORDER",zt="SET_CHAT_INFO";function Vt(){return function(e){var t=Ee;se.send(U.a.INIT,{afterMessageId:t},(function(t){var n=t.status,a=t.messages,r=t.liked,o=t.createdAt,i=t.disabled,c=t.blocked,l=t.blockTo,s=t.gender,u=t.job,d=t.queueOrder;e({type:Bt,data:{status:n,liked:r,gender:s,job:u,createdAt:o,queueOrder:d||0}}),a&&(a.forEach((function(e){return e.text=e.content,delete e.content,e})),e(ve(a))),c&&e(wt({blockTo:l,disabled:i}))}))}}function Yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.gender,n=e.job,a=e.createdAt;return function(e,r){var o=r().user;e(ct({msg:"Ng\u01b0\u1eddi l\u1ea1 v\u1eeba v\xe0o tr\xf2 chuy\u1ec7n",sound:"start_chat"})),e({type:Lt,timeStart:Date.now(),gender:t,job:n,createdAt:a}),e({type:be}),e(Nt(o.numberOfConversations+1))}}function qt(e){return{type:Mt,fromStranger:e}}function Kt(){return function(e){e({type:Pt}),se.send(U.a.NEW_CHAT)}}function Wt(){return function(e,t){var n=t().chat;if(Date.now()-n.timeStart>5e3){e(qt());e(ve({text:"B\u1ea1n \u0111\xe3 tho\xe1t tr\xf2 chuy\u1ec7n",from:U.c.SYSTEM})),se.send(U.a.CLOSE_CHAT)}else{e(ve({text:"Ch\u01b0a th\u1ec3 tho\xe1t, \u0111\u1ee3i 5 gi\xe2y n\u1eefa!",from:U.c.SYSTEM}))}}}function Jt(e){return function(t,n){var a=e&&e.trim();if(0!==a.length){if(a.length>1e3){var r="N\u1ed9i dung tin nh\u1eafn d\xe0i qu\xe1 1000 k\xfd t\u1ef1 (".concat(a.length,")");return t(ve({text:r,from:U.c.SYSTEM})),!0}var o=J()();se.send(U.a.CHAT_MESSAGE,{content:a,uuid:o},(function(e){var n=e.id,a=e.uuid,r=e.status;t(function(e){var t=e.id,n=e.uuid,a=e.status;return function(e){Ee=t,e({type:he,id:t,uuid:n,status:a})}}({id:n,uuid:a,status:r}))})),t(ve({text:e,from:U.c.ME,status:U.d.SENDING,uuid:o}))}}}function Xt(){return function(){se.send(U.a.TYPING)}}function Qt(e){return{type:Ut,order:e}}function Zt(e){var t=e.messageCount,n=e.messageSent;return{type:zt,messageCount:t,messageSent:n}}function $t(){return function(){se.send(U.a.CHAT_INFO)}}function en(){var e=Object(a.useState)(!1),t=Object(y.a)(e,2),n=t[0],r=t[1];return{open:n,handleOpen:Object(a.useCallback)((function(){return r(!0)}),[]),handleClose:Object(a.useCallback)((function(){return r(!1)}),[])}}function tn(e){var t=e.onClick,n=e.disabled;return r.a.createElement(O.a,{onClick:t,disabled:n},r.a.createElement(x.a,null))}function nn(e){var t=e.ButtonComponent,n=void 0===t?tn:t,o=en(),i=o.open,l=o.handleClose,s=o.handleOpen,u=function(){var e=Object(c.c)(),t=Object(c.d)(Y),n=Object(c.d)(K);return{isChattingAndConnected:t&&n,closeChat:Object(a.useCallback)((function(){return e(Wt())}),[e])}}(),d=u.isChattingAndConnected,m=u.closeChat,g=Object(a.useCallback)((function(){l(),m()}),[m,l]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(n,{disabled:!d,onClick:s}),r.a.createElement(M.a,{open:i,onClose:l},r.a.createElement(H.a,null,r.a.createElement(G.a,null,"Tho\xe1t tr\xf2 chuy\u1ec7n?")),r.a.createElement(P.a,null,r.a.createElement(L.a,{onClick:l},"H\u1ee7y"),r.a.createElement(L.a,{color:"secondary",onClick:g},"Tho\xe1t"))))}var an=n(671);function rn(e){return Object(c.d)(e)}var on=n(48);function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){Object(on.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),n=Object(y.a)(t,2),r=n[0],o=n[1],i=Object(a.useCallback)((function(e){e.persist(),o((function(t){return ln({},t,Object(on.a)({},e.target.name,e.target.value))}))}),[]),c=Object(a.useCallback)((function(e){e.persist(),o((function(t){return ln({},t,Object(on.a)({},e.target.name,e.target.checked))}))}),[]);return{values:r,setValues:o,handleChange:i,handleChangeCheckbox:c}}function un(e){var t=e.onClick,n=e.disabled;return r.a.createElement(O.a,{onClick:t,disabled:n},r.a.createElement(B.a,null))}function dn(e){var t=e.ButtonComponent,n=void 0===t?un:t,o=Object(c.c)(),i=rn(V),l=en(),s=l.open,u=l.handleClose,d=l.handleOpen,m=sn({reason:""}),g=m.values,f=m.handleChange,h=m.setValues,p=Object(a.useMemo)((function(){return g.reason.length<20||g.reason.split(" ").length<4}),[g.reason]);return Object(a.useEffect)((function(){s&&h({reason:""})}),[s]),r.a.createElement(r.a.Fragment,null,r.a.createElement(n,{onClick:d,disabled:!i}),r.a.createElement(M.a,{open:s,onClose:u,fullWidth:!0,maxWidth:"sm",title:"B\xe1o c\xe1o ng\u01b0\u1eddi x\u1ea5u?"},r.a.createElement(H.a,null,r.a.createElement(G.a,null,"L\u01b0u \xfd: h\xe0nh vi b\xe1o x\u1ea5u kh\xf4ng \u0111\xfang s\u1ef1 th\u1eadt c\xf3 th\u1ec3 d\u1eabn \u0111\u1ebfn b\u1ecb kh\xf3a t\xe0i kho\u1ea3n v\u0129nh vi\u1ec5n."),r.a.createElement(an.a,{autoFocus:!0,margin:"dense",name:"reason",label:"L\xfd do report",helperText:"Ti\u1ebfng Vi\u1ec7t c\xf3 d\u1ea5u; T\u1ed1i thi\u1ec3u 20 k\xfd t\u1ef1",fullWidth:!0,inputProps:{maxLength:200},value:g.reason,onChange:f})),r.a.createElement(P.a,null,r.a.createElement(L.a,{onClick:u},"H\u1ee7y"),r.a.createElement(L.a,{color:"secondary",disabled:p,onClick:function(){u(),o((e=g.reason,function(t){se.send(U.a.REPORT,{reason:e}),t(Wt())}));var e}},"B\xe1o c\xe1o"))))}function mn(e){var t=e.onClick,n=e.disabled;return r.a.createElement(T.a,{disabled:n,onClick:t},r.a.createElement(j.a,null,r.a.createElement(B.a,{color:"inherit"})),r.a.createElement(w.a,null,"B\xe1o x\u1ea5u"))}function gn(e){var t=e.onClick,n=e.disabled;return r.a.createElement(T.a,{disabled:n,onClick:t},r.a.createElement(j.a,null,r.a.createElement(x.a,{color:"inherit"})),r.a.createElement(w.a,null,"Tho\xe1t"))}var fn={container:{height:48,width:48},title:{fontSize:18,height:"inherit",lineHeight:"inherit",alignSelf:"center"},toolbar:{minHeight:48,width:"100%"}};var hn=n(28),pn={other:"B\xed m\u1eadt",male:"Nam",female:"N\u1eef"},bn=["B\xed m\u1eadt","H\u1ecdc sinh","Sinh vi\xean","Ng\u01b0\u1eddi \u0111i l\xe0m"];var En=Object(c.b)((function(e){var t=e.chat,n=bn[t.job]||bn[0],a=pn[t.gender]||pn.other;return{showReportBtn:K(e)||t.status===U.b.STRANGER_CLOSED,job:n,gender:a,createdAt:t.createdAt,messageSent:t.messageSent,messageCount:t.messageCount}}),(function(e){return Object(hn.b)({requestChatInfo:$t},e)}))((function(e){var t=e.gender,n=e.job,o=e.createdAt,i=e.showReportBtn,c=e.messageSent,l=e.messageCount,s=e.requestChatInfo,u=Object(a.useState)(!1),d=Object(y.a)(u,2),m=d[0],g=d[1];Object(a.useEffect)((function(){m&&s()}),[m,s]);var f=o?Math.floor((Date.now()-new Date(o))/864e5)+" ng\xe0y":"R\u1ea5t l\xe2u r\u1ed3i";return r.a.createElement("div",{style:fn.container,className:"all-centered"},r.a.createElement(O.a,{onClick:function(){g((function(e){return!e}))},color:"inherit",disableRipple:!0},r.a.createElement(R.a,null)),r.a.createElement(k.a,{anchor:"right",open:m,onClose:E},r.a.createElement(h.a,{position:"static"},r.a.createElement(p.a,{style:fn.toolbar,disableGutters:!0},r.a.createElement(O.a,{onClick:E,color:"inherit"},r.a.createElement(I.a,null)),r.a.createElement(b.a,{variant:"h4",color:"inherit",style:fn.title},"T\xf9y ch\u1ecdn"))),r.a.createElement(S.a,null,r.a.createElement(w.a,{primary:"Gi\u1edbi t\xednh",secondary:t})),r.a.createElement(S.a,null,r.a.createElement(w.a,{primary:"Hi\u1ec7n \u0111ang l\xe0",secondary:n})),r.a.createElement(S.a,null,r.a.createElement(w.a,{primary:"Quen b\u1ea1n \u0111\u01b0\u1ee3c",secondary:f})),r.a.createElement(S.a,null,r.a.createElement(w.a,{primary:"S\u1ed1 tin b\u1ea1n g\u1eedi",secondary:l>0?"".concat(c," / ").concat(l," (").concat(Math.round(100*c/l),"%)"):"0"})),i&&r.a.createElement(a.Fragment,null,r.a.createElement(C.a,null),r.a.createElement(dn,{ButtonComponent:mn})),r.a.createElement(C.a,null),r.a.createElement(nn,{ButtonComponent:gn})));function E(){g(!1)}})),vn=n(34),On=n.n(vn),yn=n(161),Cn=n.n(yn),kn=function(e){var t=e.onNewBtnClick;return r.a.createElement(O.a,{onClick:t,color:"inherit"},r.a.createElement(Cn.a,null))};kn.prototype={onNewBtnClick:On.a.func.isRequired};var Sn=kn;var jn=Object(c.b)((function(){return{}}),(function(e){return Object(hn.b)({onNewBtnClick:Kt},e)}))(Sn),wn=(n(592),{container:{minHeight:48},title:{fontSize:18,height:"inherit",lineHeight:"inherit",display:"flex",flexGrow:1},actionBtn:{marginTop:0},toolbar:{minHeight:48,width:"100%"}}),Tn=function(e){var t=e.show,n=e.user,a=e.showMenuIconButton,o=e.showInfoBtn,i=e.showNewBtn,c=e.onMenuBtnClick,l=Object(f.g)(),s="/"===l.pathname&&!n.blocked,u="Chat v\u1edbi ng\u01b0\u1eddi l\u1ea1";if("/settings"===l.pathname&&(u="C\xe0i \u0111\u1eb7t"),!t)return null;var d=r.a.createElement(O.a,{color:"inherit","aria-label":"Menu",disableRipple:!0,onClick:c},r.a.createElement(v.a,null)),m=a?wn.container:Object.assign({paddingLeft:256},wn.container);return r.a.createElement("div",{className:"Header"},r.a.createElement(h.a,{position:"static",className:"flex-vertical-centered",style:m,elevation:0},r.a.createElement(p.a,{style:wn.toolbar,disableGutters:!0},a&&d,r.a.createElement(b.a,{variant:"h5",color:"inherit",style:wn.title},u),s&&i&&r.a.createElement(jn,null),s&&o&&r.a.createElement(En,null))))},Nn="SIDEBAR_OPEN",In="SIDEBAR_CLOSE",An=function(){return{type:In}},xn=function(){return function(e,t){t().sidebar.open?e(An()):e({type:Nn})}};var Dn=Object(c.b)((function(e){var t=e.chat,n=e.appState,a=e.user,r=e.connection,o=n.isMobile,i=t.status===U.b.CHATTING||t.status===U.b.STRANGER_CLOSED,c=r.status===U.f.CONNECTED&&(t.status===U.b.CLOSED||t.status===U.b.STRANGER_CLOSED);return{show:!!a.id,user:a,showMenuIconButton:o,showInfoBtn:i,showNewBtn:c}}),(function(e){return Object(hn.b)({onMenuBtnClick:xn},e)}))(Tn),Rn=n(654),_n=n(661),Bn={overflowY:"scroll",overflowX:"hidden",WebkitOverflowScrolling:"touch",flexGrow:999,transition:"height 300ms cubic-bezier(0.23, 1, 0.32, 1) 0ms"},Ln=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){at.overscroll(window.document.querySelector(".Scrollable"))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Scrollable",style:Object.assign({},Bn,this.props.style)},this.props.children)}}],[{key:"propTypes",get:function(){return{children:On.a.node.isRequired,style:On.a.object}}}]),t}(r.a.Component),Mn=n(76),Pn=n(298),Hn=n.n(Pn),Gn=(n(596),function(e){var t=e.children,n=e.center,a=e.noSidebar,o=e.noHeader,i=Object(Mn.a)(e,["children","center","noSidebar","noHeader"]);return r.a.createElement("div",Object.assign({className:Hn()("Container",{"Container-center":n,"Container-hasSidebar":!a,"Container-hasHeader":!o},{})},i),t)});var Fn=Object(c.b)((function(e,t){var n=e.appState;return{noSidebar:t.noSidebar||n.isMobile}}),(function(){return{}}))(Gn),Un=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=[{question:"T\xf4i c\xf3 s\u1ee3 b\u1ecb l\u1ed9 th\xf4ng tin kh\xf4ng?",answer:"Kh\xf4ng, tr\u1eeb khi b\u1ea1n cung c\u1ea5p cho ng\u01b0\u1eddi l\u1ea1"},{question:"L\xe0m sao \u0111\u1ecdc l\u1ea1i tin nh\u1eafn c\u0169?",answer:"Kh\xf4ng th\u1ec3, v\xec \u1ee9ng d\u1ee5ng kh\xf4ng l\u01b0u l\u1ea1i tin nh\u1eafn c\u1ee7a b\u1ea1n"},{question:"L\xe0m sao t\xecm l\u1ea1i ng\u01b0\u1eddi l\u1ea1?",answer:"H\xe3y g\u1eedi Confession cho ch\xfang t\xf4i, n\u1ebfu ng\u01b0\u1eddi kia c\u0169ng theo d\xf5i Confession th\xec nhi\u1ec1u kh\u1ea3 n\u0103ng 2 b\u1ea1n s\u1ebd t\xecm l\u1ea1i \u0111\u01b0\u1ee3c nhau"},{question:"Ng\u01b0\u1eddi l\u1ea1 h\u1ecfi \u0111\u1ecba ch\u1ec9 Facebook, t\xf4i c\xf3 n\xean cho kh\xf4ng?",answer:"Kh\xf4ng bao gi\u1edd!"},{question:"CVNL c\xf3 \u1ee9ng d\u1ee5ng cho \u0111i\u1ec7n tho\u1ea1i kh\xf4ng?",answer:"C\xf3, nh\u01b0ng hi\u1ec7n t\u1ea1i ch\u1ec9 h\u1ed7 tr\u1ee3 Android"},{question:"Bao gi\u1edd th\xec c\xf3 \u1ee9ng d\u1ee5ng cho iOS?",answer:"C\xf2n t\xf9y thu\u1ed9c v\xe0o \u0111\u1ed9 r\u1ea3nh c\u1ee7a ch\xfang t\xf4i"},{question:"T\xf4i mu\u1ed1n g\xf3p \xfd?",answer:r.a.createElement("span",{dangerouslySetInnerHTML:{__html:'Vui l\xf2ng g\u1eedi th\u01b0 v\u1ec1 \u0111\u1ecba ch\u1ec9 <a href="mailto:lienhe@cvnl.app?subject=I have a feedback">lienhe@cvnl.app</a>'}})}];return r.a.createElement(Fn,null,r.a.createElement(Ln,null,r.a.createElement(Rn.a,null,r.a.createElement(_n.a,{disableSticky:!0},"C\xe1c c\xe2u h\u1ecfi th\u01b0\u1eddng g\u1eb7p"),e.map((function(e,t){return r.a.createElement(S.a,{key:t,divider:!0},r.a.createElement(w.a,{primary:e.question,secondary:e.answer}))})))))}}]),t}(r.a.Component),zn=n(88),Vn=n(164),Yn=n(662),qn=n(672),Kn=n(312),Wn={container:{width:"100%"}},Jn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleClickListItem=function(e){n.setState({anchorEl:e.currentTarget})},n.handleMenuItemClick=function(e,t){n.props.onChange(n.props.options[t].value),n.setState({selectedIndex:t,anchorEl:null})},n.handleClose=function(){n.setState({anchorEl:null})},n.state={anchorEl:null,selectedIndex:ie.findIndex(e.options,(function(t){return t.value===e.value}),0)},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.options,a=t.label,o=t.id,i=this.state.anchorEl;return r.a.createElement("div",{style:Wn.container},r.a.createElement(Rn.a,{component:"nav"},r.a.createElement(S.a,{disableGutters:!0,button:!0,"aria-haspopup":"true","aria-controls":o,"aria-label":a,onClick:this.handleClickListItem},r.a.createElement(w.a,{primary:a,secondary:n[this.state.selectedIndex].label}))),r.a.createElement(Kn.a,{id:o,anchorEl:i,open:Boolean(i),onClose:this.handleClose},n.map((function(t,n){return r.a.createElement(T.a,{key:t.value,selected:n===e.state.selectedIndex,onClick:function(t){return e.handleMenuItemClick(t,n)}},t.label)}))))}}]),t}(r.a.Component),Xn=n(313),Qn={paper:{padding:25,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},form:{display:"flex",alignItems:"center",justifyContent:"space-around",marginTop:10,marginBottom:10,fontSize:20},textField:{marginLeft:5,marginRight:5},saveButton:{marginTop:10,marginBottom:10}};var Zn=Object(c.b)((function(e){return{}}),(function(e){return Object(hn.b)({updateBirthday:_t},e)}))((function(e){var t=e.updateBirthday,n=sn({}),a=n.values,o=n.handleChange,i=r.a.useState(""),c=Object(y.a)(i,2),l=c[0],s=c[1];function u(e){s(""),o(e)}return r.a.createElement(Xn.a,{style:Qn.paper},r.a.createElement(b.a,{variant:"h6",color:"textSecondary",gutterBottom:!0},"Sinh nh\u1eadt c\u1ee7a b\u1ea1n l\xe0 khi n\xe0o?"),r.a.createElement(b.a,null,"H\u1ec7 th\u1ed1ng d\xf9ng ng\xe0y sinh \u0111\u1ec3 t\xecm ng\u01b0\u1eddi l\u1ea1 ph\xf9 h\u1ee3p v\u1edbi tu\u1ed5i v\xe0 cung ho\xe0ng \u0111\u1ea1o c\u1ee7a b\u1ea1n:"),r.a.createElement("form",{style:Qn.form,autoComplete:"off"},r.a.createElement(an.a,{label:"Ng\xe0y",helperText:"VD: 20",style:Qn.textField,name:"date",value:a.date,type:"number",onChange:u}),r.a.createElement(an.a,{label:"Th\xe1ng",helperText:"VD: 12",style:Qn.textField,name:"month",value:a.month,type:"number",onChange:u}),r.a.createElement(an.a,{label:"N\u0103m",helperText:"VD: 1995",style:Qn.textField,name:"year",value:a.year,type:"number",onChange:u})),r.a.createElement(L.a,{style:Qn.saveButton,variant:"outlined",color:"primary",onClick:function(){var e=parseInt(a.date,10),n=parseInt(a.month,10),r=parseInt(a.year,10);if(r<1980)return s("B\u1ea1n qu\xe1 l\u1edbn tu\u1ed5i \u0111\u1ec3 s\u1eed d\u1ee5ng \u1ee9ng d\u1ee5ng n\xe0y?");if(r>2010)return s("B\u1ea1n qu\xe1 tr\u1ebb \u0111\u1ec3 s\u1eed d\u1ee5ng \u1ee9ng d\u1ee5ng n\xe0y?");var o=new Date("".concat(a.year,"/").concat(a.month,"/").concat(a.date));e===o.getDate()&&n===o.getMonth()+1&&r===o.getFullYear()?t(o):s("B\u1ea1n \u0111\xe3 nh\u1eadp ng\xe0y sinh kh\xf4ng h\u1ee3p l\u1ec7.")}},"L\u01b0u"),l?r.a.createElement(b.a,{color:"error",variant:"caption",gutterBottom:!0},l):r.a.createElement(b.a,{color:"secondary",variant:"caption",gutterBottom:!0},"L\u01b0u \xfd: b\u1ea1n s\u1ebd kh\xf4ng th\u1ec3 s\u1eeda l\u1ea1i ng\xe0y sinh m\u1ed9t khi \u0111\xe3 l\u01b0u"))})),$n=Vn.a[100],ea=Vn.a[700],ta={container:{padding:0,backgroundColor:$n},label:{fontSize:21,color:Vn.a[900]},hide:{display:"none"},selected:{fontSize:13,color:ea},settingItem:{backgroundColor:"white",borderTop:"1px solid #e6e7ed",borderBottom:"1px solid #e6e7ed",boxSizing:"border-box",paddingLeft:15,paddingRight:15,marginBottom:15,width:"100%"},list:{backgroundColor:"white",borderTop:"1px solid #e6e7ed",borderBottom:"1px solid #e6e7ed",marginBottom:15}},na=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={target:Qe("target").getNumber(),enableSound:Qe("enableSound").isTrue()},n.onGenderChange=n.onGenderChange.bind(Object(zn.a)(n)),n.onTargetChange=n.onTargetChange.bind(Object(zn.a)(n)),n.onJobChange=n.onJobChange.bind(Object(zn.a)(n)),n.onSoundEnableChange=n.onSoundEnableChange.bind(Object(zn.a)(n)),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onGenderChange",value:function(e){this.props.onGenderChange(e)}},{key:"onTargetChange",value:function(e){this.setState({target:e}),Qe("target").setNumber(e)}},{key:"onJobChange",value:function(e){this.props.onJobChange(e)}},{key:"onSoundEnableChange",value:function(e,t){this.setState({enableSound:t}),Qe("enableSound").setBoolean(t)}},{key:"render",value:function(){var e=this.props,t=e.onLogoutBtnClick,n=e.profile;if(e.askCompleteProfile)return r.a.createElement(Fn,{style:{padding:10}},r.a.createElement(Zn,null));return r.a.createElement(Fn,{style:ta.container},r.a.createElement(Ln,null,r.a.createElement(_n.a,{disableSticky:!0},"Th\xf4ng tin"),r.a.createElement("div",{style:ta.settingItem},r.a.createElement(Jn,{id:"gender-selection",value:n.gender,onChange:this.onGenderChange,label:"Gi\u1edbi t\xednh",options:[{value:"other",label:"B\xed m\u1eadt"},{value:"male",label:"Nam"},{value:"female",label:"N\u1eef"}]})),r.a.createElement("div",{style:ta.settingItem},r.a.createElement(Jn,{id:"target-selection",value:this.state.target,onChange:this.onTargetChange,label:"Mu\u1ed1n g\u1eb7p",options:[{value:0,label:"Ai c\u0169ng \u0111\u01b0\u1ee3c"},{value:1,label:"Nam"},{value:2,label:"N\u1eef"}]})),r.a.createElement("div",{style:ta.settingItem},r.a.createElement(Jn,{id:"job-selection",value:n.job,onChange:this.onJobChange,label:"Hi\u1ec7n \u0111ang l\xe0",options:[{value:0,label:"B\xed m\u1eadt"},{value:1,label:"H\u1ecdc sinh"},{value:2,label:"Sinh vi\xean"},{value:3,label:"Ng\u01b0\u1eddi \u0111i l\xe0m"}]})),r.a.createElement(Rn.a,{style:ta.list},r.a.createElement(S.a,null,r.a.createElement(w.a,{primary:"Tu\u1ed5i",secondary:"".concat(n.age," (read-only)")}))),r.a.createElement(_n.a,{disableSticky:!0},"Th\xf4ng b\xe1o"),r.a.createElement(Rn.a,{style:ta.list},r.a.createElement(S.a,null,r.a.createElement(w.a,{primary:"\xc2m b\xe1o tin nh\u1eafn"}),r.a.createElement(Yn.a,null,r.a.createElement(qn.a,{onChange:this.onSoundEnableChange,checked:this.state.enableSound})))),r.a.createElement("div",{className:"all-centered",style:{marginBottom:30}},r.a.createElement(L.a,{variant:"outlined",color:"secondary",onClick:t},"\u0110\u0103ng xu\u1ea5t"))))}}]),t}(r.a.Component);var aa=Object(c.b)((function(e){var t=e.user;return{profile:t.profile,askCompleteProfile:!t.profile.age}}),(function(e){return{onLogoutBtnClick:function(){e(Dt())},onGenderChange:function(t){e(Rt({gender:t}))},onJobChange:function(t){e(Rt({job:t}))}}}))(na),ra=n(666),oa=n(304),ia=n.n(oa),ca=n(300),la=n.n(ca),sa=n(301),ua=n.n(sa),da=n(302),ma=n.n(da),ga=n(299),fa=n.n(ga),ha=n(303),pa=n.n(ha),ba=n(667),Ea=n(663),va=n(664),Oa=n(165),ya=n(665),Ca=function(){return r.a.createElement("a",{href:"https://play.google.com/store/apps/details?id=com.goctamhon.chatstrangers",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:$+"/images/google-play.png",alt:"Google Play"}))},ka=(n(597),n(99)),Sa={unselected:{color:Vn.a[700]},selected:{color:Ea.a[500]},infoContainer:{display:"flex",fontSize:14,fontWeight:500,justifyContent:"left",marginBottom:10},csIcon:{width:18,height:18,color:va.a[500],marginLeft:0,marginRight:3},likeIcon:{width:18,height:18,color:Oa.a[500],marginLeft:15,marginRight:5},reportIcon:{width:18,height:18,color:ya.a[500],marginLeft:15,marginRight:5}},ja=function(e){var t=e.show,n=e.open,a=e.alwaysOpen,o=e.onClose,i=e.user,c=e.onlineUsers,l=Object(f.g)().pathname;if(!t)return null;var s=[{title:"Tr\xf2 chuy\u1ec7n",page:"/",icon:fa.a},{title:"Confession",page:"/cfs",icon:la.a}],u=[{title:"C\xe0i \u0111\u1eb7t",page:"/settings",icon:ua.a},{title:"Tr\u1ee3 gi\xfap",page:"/help",icon:ma.a}],d=function(e){return e.map((function(e){return r.a.createElement(S.a,{key:e.page,to:e.page,button:!0,component:ka.a,onClick:o},r.a.createElement(j.a,null,r.a.createElement(e.icon,{color:"inherit",style:l===e.page?Sa.selected:Sa.unselected})),r.a.createElement(w.a,{primary:e.title,primaryTypographyProps:{style:l===e.page?Sa.selected:Sa.unselected}}))}))},m=c?"".concat(c,"+ online"):null;return r.a.createElement(k.a,{open:a||n,variant:a?"permanent":"temporary",onClose:o,classes:{paper:"sidebar-paper"}},r.a.createElement("div",{className:"sidebar-inner"},r.a.createElement("div",null,r.a.createElement(S.a,null,r.a.createElement(ra.a,null,r.a.createElement(ba.a,{src:$+"/images/avatar.png"})),r.a.createElement(w.a,{primary:i.profile.name,secondary:r.a.createElement("span",{className:"flex-vertical-centered",style:Sa.infoContainer},r.a.createElement(pa.a,{style:Sa.csIcon})," ",i.numberOfConversations,r.a.createElement(ia.a,{style:Sa.likeIcon})," ",i.numberOfLikes,r.a.createElement(B.a,{style:Sa.reportIcon})," ",i.numberOfReport)})),r.a.createElement(C.a,null),r.a.createElement(Rn.a,null,d(s)),r.a.createElement(C.a,{variant:"inset"}),r.a.createElement(Rn.a,null,d(u))),r.a.createElement("div",{className:"flex-column"},!U.e.iOS&&r.a.createElement(Ca,null),r.a.createElement("div",{className:"info"},r.a.createElement("span",null,"CVNL ",ne),r.a.createElement("span",null,m)))))};var wa=Object(c.b)((function(e){var t=e.sidebar,n=e.appState,a=e.user,r=e.server.onlineUsers;return{show:!!a.id,open:t.open,alwaysOpen:!n.isMobile,user:a,onlineUsers:r}}),(function(e){return{onClose:function(){e(An())}}}))(ja),Ta=n(305),Na=n.n(Ta),Ia=(n(598),n(203));function Aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var xa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===pe?[].concat(Object(Ia.a)(e),Object(Ia.a)(t.messages.map((function(e){return{id:e.id,uuid:e.uuid,text:e.text,status:e.status,from:e.from,createdAt:e.createdAt}})))):t.type===be?[]:t.type===he?e.map((function(e){return e.uuid===t.uuid?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Aa(Object(n),!0).forEach((function(t){Object(on.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{id:t.id,status:t.status}):e})):e},Da="CONNECTION_CONNECTED",Ra="CONNECTION_DISCONNECTED";var _a={status:U.f.DISCONNECTED,initialized:!1};var Ba=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_a,t=arguments.length>1?arguments[1]:void 0;return t.type===Da?Object.assign({},e,{status:U.f.CONNECTED,initialized:!0}):t.type===Ra?Object.assign({},e,{status:U.f.DISCONNECTED}):e},La={unread:0};var Ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La,t=arguments.length>1?arguments[1]:void 0;return t.type===ot?Object.assign({},e,{unread:t.count}):e};function Pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pa(Object(n),!0).forEach((function(t){Object(on.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ga={status:U.b.INITIALIZING,liked:!1,beLiked:!1,name:"ng\u01b0\u1eddi l\u1ea1",timeStart:0,lastTimeTyping:0,gender:0,job:0,createdAt:0,queueOrder:0,messageSent:0,messageCount:0};var Fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ga,t=arguments.length>1?arguments[1]:void 0;return t.type===Bt?Object.assign({},e,Ha({},t.data)):t.type===Lt?Object.assign({},e,{status:U.b.CHATTING,liked:!1,beLiked:!1,lastTimeTyping:0,timeStart:t.timeStart,gender:t.gender,job:t.job,createdAt:t.createdAt}):t.type===Mt?Object.assign({},e,{lastTimeTyping:0,status:t.fromStranger?U.b.STRANGER_CLOSED:U.b.CLOSED}):t.type===Pt?Object.assign({},e,{status:U.b.FINDING}):t.type===Ht?Object.assign({},e,{liked:!0}):t.type===Gt?Object.assign({},e,{beLiked:!0}):t.type===Ft?Object.assign({},e,{lastTimeTyping:t.timestamp}):t.type===Ut?Ha({},e,{queueOrder:t.order}):t.type===zt?Ha({},e,{messageCount:t.messageCount,messageSent:t.messageSent}):e},Ua="APPSTATE_FOREGROUND",za="APPSTATE_BACKGROUND";var Va={background:!1,isMobile:U.e.isMobile};var Ya={open:!1};var qa="SERVER_ONLINE_USERS",Ka="SERVER_SET_SUPPORTED",Wa=function(e){return{type:qa,onlineUsers:e}},Ja=function(e){return{type:Ka,supported:e}};function Xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Qa={onlineUsers:0,supported:!0};var Za={id:null,profile:{name:"Ng\u01b0\u1eddi l\u1ea1",gender:"other",job:0,age:0},disabled:!1,blocked:!1,blockTo:0,numberOfConversations:0,numberOfLikes:0,numberOfReport:0};var $a={messages:xa,connection:Ba,notification:Ma,chat:Fa,appState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va,t=arguments.length>1?arguments[1]:void 0;return t.type===Ua?Object.assign({},e,{background:!1}):t.type===za?Object.assign({},e,{background:!0}):e},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ya,t=arguments.length>1?arguments[1]:void 0;return t.type===Nn?Object.assign({},e,{open:!0}):t.type===In?Object.assign({},e,{open:!1}):e},server:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa,t=arguments.length>1?arguments[1]:void 0;return t.type===qa?Object.assign({},e,{onlineUsers:t.onlineUsers}):t.type===Ka?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xa(Object(n),!0).forEach((function(t){Object(on.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{supported:t.supported}):e},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za,t=arguments.length>1?arguments[1]:void 0;if(t.type===Ct){var n=Object.assign({},e);return"undefined"!==typeof t.numberOfConversations&&(n.numberOfConversations=t.numberOfConversations),"undefined"!==typeof t.numberOfLikes&&(n.numberOfLikes=t.numberOfLikes),"undefined"!==typeof t.numberOfReport&&(n.numberOfReport=t.numberOfReport),n}return t.type===kt?Object.assign({},e,{profile:t.profile}):t.type===St?Object.assign({},e,{id:t.token,profile:t.profile}):t.type===jt?Object.assign({},e,{blocked:!0,blockTo:t.blockTo,disabled:t.disabled}):e}},er=[Na.a],tr=Object(hn.d)(Object(hn.c)($a),hn.a.apply(void 0,er));function nr(){tr.dispatch(Tt({numberOfConversations:Qe("numberOfConversations").getNumber(),numberOfLikes:Qe("numberOfLikes").getNumber(),numberOfReport:Qe("numberOfReport").getNumber()}))}function ar(){return tr.getState().chat.status===U.b.CHATTING}function rr(e){e.on(U.a.NEW_CHAT,(function(e){tr.dispatch(Yt(e||{})),se.ack(U.a.NEW_CHAT)})),e.on(U.a.CHAT_MESSAGE,(function(e){tr.dispatch(ve({id:e.id,text:e.content,from:U.c.STRANGER})),tr.dispatch(ct({msg:"Tin nh\u1eafn m\u1edbi t\u1eeb ng\u01b0\u1eddi l\u1ea1",sound:"new_message"})),tr.dispatch({type:Ft,timestamp:0}),se.ack(U.a.CHAT_MESSAGE,{id:e.id})})),e.on(U.a.ONLINE_USER,(function(e){tr.dispatch(Wa(e))})),e.on(U.a.QUEUE_ORDER,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.order;tr.dispatch(Qt(Number(t)||0))})),e.on(U.a.SERVER_INFO,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.supported;tr.dispatch(Ja(t))})),e.on(U.a.TYPING,(function(){tr.dispatch({type:Ft,timestamp:Date.now()})})),e.on(U.a.CLOSE_CHAT,(function(){if(ar()){tr.dispatch(qt(!0)),tr.dispatch(ct({msg:"Ng\u01b0\u1eddi l\u1ea1 \u0111\xe3 tho\xe1t tr\xf2 chuy\u1ec7n",sound:"end_chat"})),se.ack(U.a.CLOSE_CHAT)}})),e.on(U.a.FORCE_CLOSE,(function(){ar()&&tr.dispatch(Wt())})),e.on(U.a.LIKE_CONVERSATION,(function(){tr.dispatch((function(e,t){var n=t(),a=n.chat,r=n.user;a.status!==U.b.CHATTING||a.beLiked||(e({type:Gt}),e(ve({text:"Ng\u01b0\u1eddi l\u1ea1 \u0111\xe3 th\xedch b\u1ea1n <3",from:U.c.SYSTEM})),e(It(r.numberOfLikes+1)),r.numberOfReport>1&&e(At(r.numberOfReport-1)))}))})),e.on(U.a.BLOCK,(function(e){var t=e.blockTo,n=e.disabled;tr.dispatch(wt({blockTo:t,disabled:n})),tr.dispatch(Wt())})),e.on(U.a.CHAT_INFO,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.messageCount,n=e.messageSent;tr.dispatch(Zt({messageCount:t,messageSent:n}))})),e.on("connect",(function(){tr.dispatch({type:Da}),tr.dispatch(Vt())})),e.on("disconnect",(function(){tr.dispatch({type:Ra})})),e.on("error",(function(e){"not authenticated"===e||"expired token"===e||"invalid token"===e||Re.log("Connect error: ",e)})),e.on("system",(function(e){tr.dispatch(ve({text:e.msg,from:U.c.SYSTEM}))}))}function or(){var e=tr.getState().user.id;rr(se.connect(ee,e))}var ir=[{start:function(){window.onblur=function(){tr.dispatch({type:za})},window.onfocus=function(){tr.dispatch({type:Ua}),tr.dispatch(lt())}}},{start:function(){ut.on("user:logged_in",nr)}},{start:function(){ut.on("user:logged_in",or)}}];var cr={start:function(){ir.forEach((function(e){return e.start()}))}},lr=function(e){return e.user};function sr(){return{loggedInUser:Object(c.d)(lr)}}function ur(e){var t=e.date;return Object(a.useMemo)((function(){return new Date(t).toLocaleString("vi-VN")}),[t])}var dr=n(306),mr=n(668),gr=n(653),fr=Object(dr.a)({content:{display:"flex",flexDirection:"column",alignItems:"center","& p a":{textDecoration:"none",color:"#333"}},input:{border:"1px solid #d4d4d4",borderRadius:18,padding:"0 20px",fontSize:20,color:"#333",width:125,marginTop:10,"& > input":{textAlign:"center"}}});function hr(e){var t,n=e.label,a=fr(),o=en(),i=o.open,c=o.handleClose,l=o.handleOpen,s=r.a.useState(),u=Object(y.a)(s,2),d=u[0],m=u[1];return r.a.useEffect((function(){i&&(m(null),vt.getCode().then((function(e){m(e.data)})))}),[i]),t=d?r.a.createElement(gr.a,{disableUnderline:!0,className:a.input,readOnly:!0,value:d}):r.a.createElement(mr.a,null),r.a.createElement("div",null,r.a.createElement(L.a,{onClick:l},n),r.a.createElement(M.a,{open:i,onClose:c,"aria-labelledby":"feedback-dialog-title"},r.a.createElement(H.a,{className:a.content},r.a.createElement(G.a,null,"N\u1ebfu b\u1ea1n ngh\u0129 r\u1eb1ng ",r.a.createElement("b",null,"c\xf3 s\u1ef1 nh\u1eabm l\u1ea7n")," khi CVNL kh\xf3a t\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n, h\xe3y g\u1eedi m\xe3 sau g\u1eedi cho CVNL qua fan page ",r.a.createElement("a",{href:"https://m.me/chat.goctamhon.org",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("b",null,"Chat v\u1edbi ng\u01b0\u1eddi l\u1ea1"))," \u0111\u1ec3 khi\u1ebfu n\u1ea1i:"),t),r.a.createElement(P.a,{disableActionSpacing:!0},r.a.createElement(L.a,{onClick:c,color:"secondary"},"Close"))))}n(599);var pr=n(307),br=n.n(pr);function Er(){var e=sr().loggedInUser;return r.a.createElement("div",{className:"BlockScreen"},r.a.createElement("img",{src:br.a,alt:"sad"}),e.disabled?r.a.createElement("div",null,r.a.createElement("p",null,"Th\u1eadt ti\u1ebfc, t\xe0i kho\u1ea3n b\u1ecb kh\xf3a v\u0129nh vi\u1ec5n ^^")):r.a.createElement("div",null,r.a.createElement("p",null,"Th\u1eadt ti\u1ebfc, t\xe0i kho\u1ea3n b\u1ecb kh\xf3a \u0111\u1ebfn"),r.a.createElement("p",null,r.a.createElement(ur,{date:e.blockTo}))),r.a.createElement(hr,{label:"Th\u1eafc m\u1eafc, g\xf3p \xfd?"}))}var vr={iframe:{display:"flex",flex:"auto"}},Or=function(e){var t=e.url;return r.a.createElement(Fn,null,r.a.createElement("iframe",{style:vr.iframe,title:t,width:"100%",height:"100%",frameBorder:"0",src:t}))};function yr(){return sr().loggedInUser.blocked?r.a.createElement(Fn,null,r.a.createElement(Er,null)):r.a.createElement(Or,{url:"https://goo.gl/forms/4sb8iZvx6F"})}n(600);var Cr={credit:{textAlign:"right",fontSize:15,fontStyle:"italic"}},kr=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},n.handleOpen=function(){n.setState({open:!0})},n.handleClose=function(){n.setState({open:!1})},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"SeeMoreBtn"},r.a.createElement("span",{onClick:this.handleOpen},"T\xecm hi\u1ec3u th\xeam"),r.a.createElement(M.a,{open:this.state.open,onClose:this.handleClose},r.a.createElement(H.a,null,r.a.createElement(G.a,null,r.a.createElement("p",null,r.a.createElement("b",null,"Chat v\u1edbi ng\u01b0\u1eddi l\u1ea1")," (CVNL) ho\u1ea1t \u0111\u1ed9ng d\u1ef1a tr\xean ti\xeau ch\xed \u0111\u1ea3m b\u1ea3o ng\u01b0\u1eddi d\xf9ng l\xe0 \u1ea9n danh, ",r.a.createElement("b",null,"kh\xf4ng ai bi\u1ebft b\u1ea1n l\xe0 ai tr\u1eeb khi b\u1ea1n n\xf3i ra.")),r.a.createElement("p",null,"\u0110\u1ec3 \u0111\u1ea3m b\u1ea3o th\xf4ng tin c\xe1 nh\xe2n \u0111\u01b0\u1ee3c b\u1ea3o v\u1ec7, b\u1ea1n \u0111\u01b0\u1ee3c khuy\u1ebfn ngh\u1ecb kh\xf4ng chia s\u1ebb th\xf4ng tin s\u1ed1 \u0111i\u1ec7n tho\u1ea1i, t\xe0i kho\u1ea3n Facebook, \u0111\u1ecba ch\u1ec9 email cho ng\u01b0\u1eddi l\u1ea1 khi s\u1eed d\u1ee5ng \u1ee9ng d\u1ee5ng n\xe0y."),r.a.createElement("p",{style:Cr.credit},"Nh\xf3m ph\xe1t tri\u1ec3n"))),r.a.createElement(P.a,null,r.a.createElement(L.a,{color:"primary",onClick:this.handleClose},"\u0110\xf3ng"))))}}]),t}(r.a.Component),Sr=n(285),jr=function(e){var t=e.shapeColor,n=void 0===t?"#FFFFFF":t,a=Object(Mn.a)(e,["shapeColor"]);return r.a.createElement(Sr.a,a,r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M5.5,8.001c-0.827,0-1.5-0.673-1.5-1.5s0.673-1.5,1.5-1.5S7,5.674,7,6.501S6.327,8.001,5.5,8.001z M5.5,6.001    c-0.275,0-0.5,0.224-0.5,0.5s0.225,0.5,0.5,0.5S6,6.777,6,6.501S5.775,6.001,5.5,6.001z",fill:n})),r.a.createElement("g",null,r.a.createElement("path",{d:"M11.5,8.001c-0.827,0-1.5-0.673-1.5-1.5s0.673-1.5,1.5-1.5s1.5,0.673,1.5,1.5S12.327,8.001,11.5,8.001z M11.5,6.001    c-0.275,0-0.5,0.224-0.5,0.5s0.225,0.5,0.5,0.5s0.5-0.224,0.5-0.5S11.775,6.001,11.5,6.001z",fill:n})),r.a.createElement("g",null,r.a.createElement("path",{d:"M21.5,22.001c-0.076,0-0.152-0.017-0.224-0.053l-2.479-1.24c-0.752,0.194-1.523,0.292-2.297,0.292    c-4.136,0-7.5-2.691-7.5-6s3.364-6,7.5-6s7.5,2.691,7.5,6c0,1.783-1.007,3.482-2.715,4.616l0.679,1.699    c0.077,0.192,0.027,0.413-0.125,0.554C21.744,21.956,21.623,22.001,21.5,22.001z M18.851,19.677c0.077,0,0.153,0.018,0.224,0.053    l1.473,0.736L20.201,19.6c-0.093-0.23-0.002-0.493,0.212-0.617C22.057,18.023,23,16.572,23,15.001c0-2.757-2.916-5-6.5-5    s-6.5,2.243-6.5,5s2.916,5,6.5,5c0.747,0,1.492-0.103,2.216-0.306C18.76,19.683,18.806,19.677,18.851,19.677z ",fill:n})),r.a.createElement("g",null,r.a.createElement("path",{d:"M2.5,18.001c-0.125,0-0.248-0.047-0.344-0.137c-0.16-0.151-0.202-0.39-0.104-0.587l1.033-2.067    C1.119,13.781,0,11.722,0,9.501c0-4.136,3.925-7.5,8.75-7.5c3.894,0,7.261,2.146,8.378,5.342c0.055,0.154,0.029,0.326-0.066,0.458    c-0.097,0.133-0.254,0.193-0.414,0.207l-0.131-0.451L16.5,7.563v0.438c-4.687,0-8.5,3.14-8.5,7c0,0.432,0.053,0.876,0.156,1.319    c0.036,0.158-0.006,0.325-0.114,0.446c-0.107,0.121-0.261,0.185-0.43,0.164c-0.773-0.087-1.519-0.258-2.219-0.507l-2.646,1.512    C2.671,17.98,2.585,18.001,2.5,18.001z M8.75,3.001C4.477,3.001,1,5.917,1,9.501c0,2.012,1.094,3.88,3.001,5.126    c0.213,0.139,0.287,0.415,0.174,0.642l-0.489,0.979l1.415-0.809c0.131-0.074,0.289-0.085,0.428-0.033    c0.484,0.187,0.995,0.331,1.525,0.43C7.018,15.556,7,15.277,7,15.001c0-4.244,3.944-7.726,8.907-7.985    C14.721,4.622,11.886,3.001,8.75,3.001z",fill:n})),r.a.createElement("g",null,r.a.createElement("circle",{cx:"14",cy:"13.001",r:"1",fill:n})),r.a.createElement("g",null,r.a.createElement("circle",{cx:"19",cy:"13.001",r:"1",fill:n}))))},wr=n(308),Tr=n.n(wr),Nr={container:{backgroundColor:Ea.a[700],justifyContent:"space-between",color:"white"},inner:{flexGrow:999,width:"100%"},title:{color:"white",fontFamily:"Pacifico",fontSize:30,lineHeight:"30px",textAlign:"center",width:"100%"},siteName:{color:"white",fontSize:13},fbIcon:{width:25,height:25,marginRight:3},chatIcon:{width:128,height:128},loginWrapper:{textAlign:"center",width:"100%"},slogan:{color:"white",fontSize:14},loginBtn:{color:"white",paddingLeft:8,minWidth:220,textTransform:"none",fontWeight:"normal",backgroundColor:"#4267B2","&:hover":{backgroundColor:"#4267B2"}}},Ir={logging:"logging",not_logged_in:"not_logged_in",logged_in:"logged_in"};function Ar(){var e=(Object(f.g)().state||{from:{pathname:"/"}}).from,t=Object(c.c)(),n=Object(a.useState)(Ir.logging),o=Object(y.a)(n,2),i=o[0],l=o[1],s=Object(a.useState)("\u0110ang ki\u1ec3m tra \u0111\u0103ng nh\u1eadp..."),u=Object(y.a)(s,2),d=u[0],m=u[1],g=Object(a.useState)(),h=Object(y.a)(g,2),p=h[0],b=h[1];if(Object(a.useEffect)((function(){var e,t=function(){var e=String(window.location.hash).match(/access_token=(.*?)(&|$)/);return e&&e[1]}();if(e=e||dt(),window.history.replaceState({},"",e),t)l(Ir.logging),m("\u0110ang \u0111\u0103ng nh\u1eadp b\u1eb1ng Facebook..."),function(e){return Ot.login("facebook",{accessToken:e}).then((function(e){return e.data}))}(t).then((function(e){b(e)})).catch((function(){l(Ir.not_logged_in)}));else{var n=yt();n?b(n):l(Ir.not_logged_in)}}),[]),Object(a.useEffect)((function(){p&&(l(Ir.logging),m("\u0110ang k\u1ebft n\u1ed1i t\u1edbi m\xe1y ch\u1ee7..."),Ot.verifyToken(p).then((function(e){!function(e){_e.set("token",e)}(p),t(xt({token:p,profile:e})),l(Ir.logged_in)})).catch((function(e){Re.log("Cannot log in:",e),l(Ir.not_logged_in)})))}),[t,p]),i===Ir.logged_in)return r.a.createElement(f.b,{to:e});var E=i===Ir.logging?r.a.createElement(mr.a,{color:"inherit"}):r.a.createElement(L.a,{disableRipple:!0,onClick:function(){l(Ir.logging),m("\u0110ang \u0111\u0103ng nh\u1eadp b\u1eb1ng Facebook..."),window.location="https://www.facebook.com/v3.2/dialog/oauth?client_id="+te+"&redirect_uri="+dt()+"&scope=user_gender,user_age_range&response_type=token"},style:Nr.loginBtn},r.a.createElement("img",{src:Tr.a,alt:"Facebook Icon",style:Nr.fbIcon}),"Ti\u1ebfp t\u1ee5c v\u1edbi Facebook");return r.a.createElement(Fn,{center:!0,noSidebar:!0,noHeader:!0,style:Nr.container},r.a.createElement("div",{style:Nr.inner,className:"flex-column flex-vertical-centered flex-space-around"},r.a.createElement("div",{style:{textAlign:"center",width:"100%"}},r.a.createElement(jr,{viewBox:"0 0 24 20",style:Nr.chatIcon}),r.a.createElement("p",{style:Nr.title},"Chat v\u1edbi ng\u01b0\u1eddi l\u1ea1")),r.a.createElement("div",{style:Nr.loginWrapper},E,r.a.createElement("p",{style:Nr.slogan},i===Ir.logging?d:"M\u1ecdi th\xf4ng tin c\xe1 nh\xe2n \u0111\u01b0\u1ee3c b\u1ea3o v\u1ec7"),r.a.createElement(kr,null))),r.a.createElement("p",{style:Nr.siteName},"\xa9 2014-",(new Date).getFullYear()," cvnl.app"))}n(601);var xr=n(309),Dr=n.n(xr),Rr=Vn.a[600],_r={chatIcon:{width:128,height:128}},Br=function(e){var t=e.onNewBtnClick,n=e.showWaitingMsg,a=e.queueOrder;return r.a.createElement("div",{className:"blank-screen"},n?r.a.createElement("img",{src:Dr.a,alt:"snail"}):r.a.createElement(jr,{viewBox:"0 0 24 20",style:_r.chatIcon,shapeColor:Rr}),n?null:r.a.createElement("p",null,r.a.createElement("span",{className:"blank-screen-title"},"Xin ch\xe0oooo!"),r.a.createElement("span",null,"B\u1ea5m n\xfat b\xean d\u01b0\u1edbi \u0111\u1ec3 b\u1eaft \u0111\u1ea7u chat v\xe0 xin h\xe3y l\u1ecbch s\u1ef1 v\xec t\u1ea5t c\u1ea3 \u0111\u1ec1u l\xe0 ng\u01b0\u1eddi th\u1eadt ;)")),r.a.createElement("div",{className:"flex-column"},n?r.a.createElement("div",null,r.a.createElement("p",{className:"message"},"\u0110ang \u0111\u1ee3i ng\u01b0\u1eddi l\u1ea1 v\xe0o chat..."),a>0?r.a.createElement("p",{className:"message"},"\u0110ang x\u1ebfp sau ".concat(a," ng\u01b0\u1eddi")):null):r.a.createElement(L.a,{color:"primary",variant:"outlined",onClick:t},"B\u1eaft \u0111\u1ea7u chat")))};var Lr=Object(c.b)((function(e){var t=e.chat;return{showWaitingMsg:t.status===U.b.FINDING,queueOrder:t.queueOrder}}),(function(e){return Object(hn.b)({onNewBtnClick:Kt},e)}))(Br),Mr=n(669),Pr=n(311),Hr=n.n(Pr),Gr=n(202);function Fr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=function(){var e=Object(c.d)((function(e){return e.connection})),t=e.status,n=e.initialized;return{isConnected:t===U.f.CONNECTED,isDisconnected:n&&t===U.f.DISCONNECTED}}().isDisconnected,n=Object(a.useState)(!1),r=Object(y.a)(n,2),o=r[0],i=r[1];return Object(a.useEffect)((function(){if(t){var n=setTimeout((function(){return i(!0)}),1e3*e);return function(){return clearTimeout(n)}}i(!1)}),[t,e]),o}var Ur=n(310),zr=n.n(Ur),Vr=function(e){var t=e.isEnabled,n=e.liked,a=e.onLikeBtnClick,o=Object(Mn.a)(e,["isEnabled","liked","onLikeBtnClick"]);return r.a.createElement(O.a,Object.assign({},o,{disabled:!t,onClick:function(){return a(n)}}),r.a.createElement(zr.a,{color:n?"error":"inherit"}))};Vr.prototype={liked:On.a.bool.isRequired,isEnabled:On.a.bool.isRequired,onLikeBtnClick:On.a.func.isRequired};var Yr=Vr;var qr=Object(c.b)((function(e){var t=e.chat,n=e.connection,a=t.status===U.b.CHATTING;return{liked:t.liked&&a,isEnabled:n.status===U.f.CONNECTED}}),(function(e){return{onLikeBtnClick:function(t){t||e((function(e,t){var n=t().chat;n.status!==U.b.CHATTING||n.liked||(se.send(U.a.LIKE_CONVERSATION),e({type:Ht}),e(ve({text:"B\u1ea1n \u0111\xe3 th\xedch ng\u01b0\u1eddi l\u1ea1 <3",from:U.c.SYSTEM})))}))}}}))(Yr),Kr=3e3,Wr={display:"none"},Jr={};var Xr=Object(c.b)((function(e){return{isChatting:e.chat.status===U.b.CHATTING}}),(function(e){return Object(hn.b)({onTyping:Xt,sendMessage:Jt},e)}))((function(e){var t=e.isChatting,n=e.onTyping,o=e.sendMessage,i=Object(a.useRef)(),c=Object(a.useRef)(),l=Object(a.useRef)(!1),s=Object(a.useRef)(0),u=Object(a.useState)(""),d=Object(y.a)(u,2),m=d[0],g=d[1],f=Fr(30),h=t&&!f,p=h&&Boolean(m);return r.a.createElement("div",{className:"MessageInput"},r.a.createElement(Gr.a,{placeholder:"Nh\u1eadp tin nh\u1eafn...",cacheMeasurements:!0,minRows:1,maxRows:4,disabled:!h,onKeyPress:E,ref:i,value:m,onChange:b}),r.a.createElement(Gr.a,{placeholder:"Ahihi...",cacheMeasurements:!0,minRows:1,maxRows:4,disabled:!h,onKeyPress:E,ref:c,value:m,onChange:b,style:l.current?Jr:Wr}),r.a.createElement(Mr.a,{in:p},r.a.createElement(O.a,{onClick:v,color:"primary",style:p?Jr:Wr},r.a.createElement(Hr.a,null))),r.a.createElement(Mr.a,{in:!p},r.a.createElement(qr,{style:p?Wr:Jr})));function b(e){g(e.target.value)}function E(e){if(13===e.which&&!e.shiftKey)return e.preventDefault(),void v();Date.now()-s.current>Kr&&(s.current=Date.now(),n())}function v(){var e=i.current,t=c.current;l.current&&(e=c.current,t=i.current);var n=m;o(n)?(e.focus(),g(n)):(e.style.display="none",t.style.display="block",t.value="",t.focus(),l.current=!l.current,g("")),s.current=0}})),Qr=(n(602),function(e){return e.showNewBtn?r.a.createElement("div",{className:"Footer flex-horizontal-centered"},r.a.createElement(b.a,{color:"textSecondary"},"B\u1ea5m n\xfat"),r.a.createElement(Cn.a,{color:"action"}),r.a.createElement(b.a,{color:"textSecondary"},"b\xean tr\xean \u0111\u1ec3 t\xecm ng\u01b0\u1eddi m\u1edbi")):r.a.createElement("div",{className:"Footer"},r.a.createElement(nn,null),r.a.createElement(Xr,null))});var Zr=Object(c.b)((function(e){var t=e.chat;return{showNewBtn:e.connection.status===U.f.CONNECTED&&(t.status===U.b.CLOSED||t.status===U.b.STRANGER_CLOSED)}}),(function(){return{}}))(Qr),$r=function(){return r.a.createElement(Fn,{center:!0},r.a.createElement(mr.a,null))},eo=n(162),to=n.n(eo),no=(n(607),to()((function(e,t){return e.hasNext!==t.hasNext}))((function(e){var t=e.text,n=e.from,a=e.createdAt,o=e.hasPrevious,i=e.hasNext,c="message",l="";n===U.c.SYSTEM?l="system":(l="bubble",i&&(l+=" has-next"),o&&(l+=" has-previous"),n===U.c.STRANGER?c+=" you":c+=" me");var s=!i&&n===U.c.STRANGER&&a&&Date.now()-a.getTime()>3e5;return r.a.createElement("div",{className:c},r.a.createElement("span",{className:l,dangerouslySetInnerHTML:{__html:t}}),s&&r.a.createElement("span",{className:"time"},ie.getTimeFormat(a)))})));function ao(){var e=rn(q),t=rn(K),n=Object(a.useState)(!1),o=Object(y.a)(n,2),i=o[0],c=o[1];return Object(a.useEffect)((function(){var t=function(){var t=Date.now()-e<4e3;c(t)};t();var n=setInterval(t,1e3);return function(){return clearInterval(n)}}),[e]),t&&i?r.a.createElement("div",{className:"you typing-indicator"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)):null}var ro,oo=to()((function(e,t){return e.messages.length!==t.messages.length}))((function(e){var t=e.messages;return t.map((function(e,n){var a=Object.assign({},e),o=t[n-1],i=t[n+1];return o&&o.from===e.from&&Object.assign(a,{hasPrevious:!0}),i&&i.from===e.from&&Object.assign(a,{hasNext:!0}),r.a.createElement(no,Object.assign({key:e.id},a))}))})),io=Vn.a[500],co=(ro={},Object(on.a)(ro,U.d.SENDING,"\u0110ang g\u1eedi"),Object(on.a)(ro,U.d.SENT,"\u0110\xe3 g\u1eedi"),Object(on.a)(ro,U.d.DELIVERED,"\u0110\xe3 nh\u1eadn"),ro),lo={container:{padding:"10px 15px"},status:{color:io,fontWeight:500,fontSize:13,display:"flex",flexDirection:"column",alignItems:"flex-end",clear:"both",marginBottom:3}},so=r.a.createElement(no,{key:"greeting",from:U.c.SYSTEM,text:'B\u1eaft \u0111\u1ea7u chat, g\xf5 "Ahihi" \u0111\u1ec3 b\u1eaft \u0111\u1ea7u'}),uo=r.a.createElement(no,{key:"goodbye",from:U.c.SYSTEM,text:"Ng\u01b0\u1eddi l\u1ea1 \u0111\xe3 tho\xe1t tr\xf2 chuy\u1ec7n!"}),mo=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=window.document.querySelector(".Scrollable");at.scrollToBottom(e,{animation:!1}),this.observer=new window.MutationObserver((function(){at.scrollToBottom(e)}));this.observer.observe(e,{attributes:!1,childList:!0,characterData:!1})}},{key:"componentWillUnmount",value:function(){this.observer.disconnect()}},{key:"shouldComponentUpdate",value:function(e){return this.props.messages.length!==e.messages.length||this.props.showGoodbyeMessage!==e.showGoodbyeMessage||this.props.lastMessageStatus!==e.lastMessageStatus}},{key:"render",value:function(){var e=this.props,t=e.messages,n=e.showGoodbyeMessage,a=e.lastMessageStatus;return r.a.createElement(Ln,{style:lo.container},t.length?r.a.createElement(oo,{messages:t}):so,a&&r.a.createElement("span",{style:lo.status},co[a]),r.a.createElement(ao,null),n&&uo)}}],[{key:"propTypes",get:function(){return{messages:On.a.array.isRequired,showGoodbyeMessage:On.a.bool,lastMessageStatus:On.a.string.isRequired}}}]),t}(r.a.Component);var go=Object(c.b)((function(e){var t=e.chat,n=e.messages.slice(0),a=t.status===U.b.STRANGER_CLOSED,r=n.length&&n[n.length-1],o="";r&&r.from===U.c.ME&&(o=r.status);var i=[];return n.forEach((function(e,t){var a=n[t+1];e&&e.createdAt&&a&&a.createdAt&&(ie.inSameDay(e.createdAt,a.createdAt)||i.push({index:t+1,time:ie.getDateFormat(a.createdAt)}))})),i.forEach((function(e,t){n.splice(e.index+t,0,{id:e.time+(e.index+t),from:U.c.SYSTEM,text:e.time})})),{messages:n,showGoodbyeMessage:a,lastMessageStatus:o}}),(function(){return{}}))(mo);n(608);function fo(e){var t=e.text;return Fr(30)&&(t="M\u1ea5t k\u1ebft n\u1ed1i m\u1ea1ng..."),t?r.a.createElement("div",{key:"notification",className:"notification"},t):null}var ho=function(e){var t=e.showLoadingIndicator,n=e.showBlankScreen,a=e.showBlockScreen;return t?r.a.createElement($r,null):a?r.a.createElement(Fn,null,r.a.createElement(Er,null)):n?r.a.createElement(Fn,null,r.a.createElement(fo,null),r.a.createElement(Lr,null)):r.a.createElement(Fn,null,r.a.createElement(fo,null),r.a.createElement(go,null),r.a.createElement(Zr,null))};var po=Object(c.b)((function(e){var t=e.chat,n=e.user,a=t.status===U.b.INITIALIZING,r=n.blocked;return{showLoadingIndicator:a,showBlankScreen:t.status===U.b.EMPTY||t.status===U.b.FINDING,showBlockScreen:r,askCompleteProfile:!n.profile.age}}),(function(){return{}}))(ho);function bo(){var e=en(),t=e.open,n=e.handleClose,o=e.handleOpen;return Object(a.useEffect)((function(){U.e.isAndroid&&o()}),[o]),r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{open:t,onClose:n,disableBackdropClick:!0,fullWidth:!0,maxWidth:"sm"},r.a.createElement(H.a,null,r.a.createElement(G.a,null,"Chat v\u1edbi ng\u01b0\u1eddi l\u1ea1 \u0111\xe3 c\xf3 phi\xean b\u1ea3n d\xe0nh ri\xeang cho thi\u1ebft b\u1ecb Android. C\u1eadp nh\u1eadt lu\xf4n b\xe2y gi\u1edd \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 t\u1ed1t h\u01a1n.")),r.a.createElement(P.a,null,r.a.createElement(L.a,{href:"https://play.google.com/store/apps/details?id=com.goctamhon.chatstrangers",target:"_blank",rel:"noopener noreferrer",color:"secondary",onClick:function(){n()}},"C\u1eadp nh\u1eadt"))))}var Eo=function(e){var t=e.isLoggedIn,n=e.component,a=Object(Mn.a)(e,["isLoggedIn","component"]);return r.a.createElement(f.c,Object.assign({},a,{render:function(e){return t?r.a.createElement(n,e):r.a.createElement(f.b,{to:{pathname:"/login",state:{from:e.location}}})}}))};var vo=Object(c.b)((function(e){return{isLoggedIn:!!e.user.id}}),(function(){return{}}))(Eo);function Oo(){var e=en(),t=e.open,n=e.handleClose,o=e.handleOpen,i=function(){var e=Object(c.d)((function(e){return e.server}));return{supported:e.supported,onlineUsers:e.onlineUsers}}().supported;return Object(a.useEffect)((function(){i||o()}),[i,o]),r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{open:t,onClose:n,disableBackdropClick:!0,fullWidth:!0,maxWidth:"sm"},r.a.createElement(H.a,null,r.a.createElement(G.a,null,"Phi\xean b\u1ea3n \u0111ang s\u1eed d\u1ee5ng \u0111\xe3 kh\xf4ng c\xf2n \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3. Vui l\xf2ng c\u1eadp nh\u1eadt phi\xean b\u1ea3n m\u1edbi h\u01a1n.")),r.a.createElement(P.a,null,r.a.createElement(L.a,{color:"secondary",onClick:function(){window.location=$+"?t="+Date.now()}},"C\u1eadp nh\u1eadt"))))}var yo=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={error:null,errorInfo:null},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"componentDidMount",value:function(){cr.start()}},{key:"render",value:function(){return this.state.errorInfo?r.a.createElement("div",null,r.a.createElement("h2",null,"Something went wrong."),r.a.createElement("details",{style:{whiteSpace:"pre-wrap"}},this.state.error&&this.state.error.toString(),r.a.createElement("br",null),this.state.errorInfo.componentStack)):r.a.createElement(f.a,null,r.a.createElement(bo,null),r.a.createElement(Oo,null),r.a.createElement(g.a,null),r.a.createElement(Dn,null),r.a.createElement(wa,null),r.a.createElement(vo,{exact:!0,path:"/",component:po}),r.a.createElement(vo,{path:"/settings",component:aa}),r.a.createElement(f.c,{path:"/login",component:Ar}),r.a.createElement(f.c,{path:"/help",component:Un}),r.a.createElement(f.c,{path:"/cfs",component:yr}))}}]),t}(r.a.Component);window.document.body.addEventListener("touchmove",(function(e){e._isScroller||e.preventDefault()})),i.a.render(r.a.createElement(c.a,{store:tr},r.a.createElement(yo,null)),window.document.getElementById("app")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[329,1,2]]]);